# TODO

[ ] Pickup delivery (Leonardo & USB passthrough boards)

[ ] Find example of bigger features that were implemented by people other than Rahix.

    Is there anything I can learn from them? Obvious example: does Rahix have a
    preference for/against force pushes when updating CR?

[ ] Ensure that registers are initialized correctly on boot. i.e. replace many
    `.modify(...)`s with `write`s

[ ] Make code safer:

    * Some `unsafe` blocks are unnecessary? I can patch avr-device to mark those
      registers as safe?

    * Some `unsafe` blocks are necessary. To reduce risk, I should make a safe
      wrapper: Unsafe PAC -> safe wrapper -> usb.rs

[ ] Extensive testing.

    This might be a waste of time; check with Rahix first.

    Goals:

    * Looking for panics

    * Benchmark. Ideally compare against Arduino library. (Having worse
      performance is okay? esp. because I'm in single bank mode)

    Tests:

    * Actually use the thing as a video game controller for a few hours.

    * flood the serial output (& test input separately?). See if it crashes, or
      if logs get dropped, or something.

    * Stress test other classes. HID might not be useful? idk what else to try
      though.

    * Capture trace.

      * Compare against Arduino? Would be nice, but probs won't work. Output is
        expected to be different, I think?

      * Is there an open source tool I can use to check if the thing complies
        with USB spec?

    * Is there hardware I can by to test for USB compliance?

    * ???

      Check docs on `rust-embedded-community/usb-device`. If nothing useful, ask
      for guidance.
